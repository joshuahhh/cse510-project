<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
        <meta content="utf-8" http-equiv="encoding">
        <title>choc play</title>
        <link href='http://www.fullstack.io/choc/components/normalize-css/normalize.css' rel='stylesheet'>
        <link href='http://www.fullstack.io/choc/components/codemirror/lib/codemirror.css' rel='stylesheet'>
        <link href='http://www.fullstack.io/choc/components/components-foundation/css/foundation.min.css' rel='stylesheet'>
        <link href='http://www.fullstack.io/choc/components/jquery-ui/themes/ui-lightness/jquery-ui.min.css' rel='stylesheet'>
        <link href='http://www.fullstack.io/choc/styles/choc.css' rel='stylesheet'>
        <link href='http://www.fullstack.io/choc/styles/choc-editor.css' rel='stylesheet'>
        <script src='http://www.fullstack.io/choc/components/jquery/jquery.min.js'></script>
        <script src='http://www.fullstack.io/choc/components/spin.js/dist/spin.min.js'></script>
        <script src='http://www.fullstack.io/choc/components/components-foundation/js/foundation.min.js'></script>
        <script src='http://www.fullstack.io/choc/components/codemirror/lib/codemirror.js'></script>
        <script src='http://www.fullstack.io/choc/components/codemirror/mode/javascript/javascript.js'></script>
        <script src='http://www.fullstack.io/choc/components/codemirror-interactive-numbers/dist/codemirror-interactive-numbers.browser.js'></script>
        <script src='http://www.fullstack.io/choc/scripts/vendor/custom.modernizr.js'></script>
        <script src='http://www.fullstack.io/choc/scripts/vendor/jquery-ui-1.10.3.custom.js'></script>
        <script src='http://www.fullstack.io/choc/scripts/vendor/jquery.ui.touch-punch.min.js'></script>
        <script src='http://www.fullstack.io/choc/scripts/vendor/two.js'></script> <!-- JAH: omg this is required for access to underscore -->
        <script src='http://www.fullstack.io/choc/components/choc/dist/choc.browser.js'></script>
        <style>
            #editor {
                max-width: 600px;
            }
        </style>
    </head>
    <body>
        <div>
            <div id="editor"></div>
        </div>
        <script>

            $(document).ready(function() {
                var code, editor, pad;
                code = `const diffX = input.heroX - input.enemyX
const diffY = input.heroY - input.enemyY

if (diffX > diffY) {
//   return "up";
} else {
}`;
                editor = new window.choc.Editor({
                $: $,
                id: document.getElementById("editor"),  // JAH: it's just anything $ can take
                timeline: true,
                code: code,
                beforeScrub: function() {
                    //return pad.clear();
                },
                afterScrub: function() {
                    //return pad.update();
                },
                locals: {
                    input: {heroX: 10, heroY: 10, enemyX: 20, enemyY: 5}
                }
                });
                return editor.start();
            });
            // [ ] choc doesn't seem to show errors well; we should report them separately
            // [ ] might want to disable the slider
            // [ ] can't return from body?
            // [ ] probably possible to re-run with new update, but I haven't tried yet
        </script>
    </body>
</html>